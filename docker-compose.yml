services:
  internet-monitor:
    container_name: internet-monitor

    # IMPORTANT: build the image from the local Dockerfile
    build:
      context: .
      dockerfile: Dockerfile

    # Optional: tag the resulting image
    image: internet-monitor:latest

    restart: unless-stopped

    cap_add:
      - NET_RAW

    ports:
      - "5005:5005"

    volumes:
      - ./config.ini:/config/config.ini:ro
      - ./connection.log:/var/log/connection.log

    environment:
      INTERNET_MONITOR_CONFIG: /config/config.ini
      PYTHONUNBUFFERED: "1"
